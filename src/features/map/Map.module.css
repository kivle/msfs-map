.map {
  position: relative;
  width: 100%;
  height: 100%;
  --safe-area-top: env(safe-area-inset-top, 0px);
  --safe-area-right: env(safe-area-inset-right, 0px);
  --safe-area-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-left: env(safe-area-inset-left, 0px);
}

.footer {
  position: absolute;
  right: calc(10px + var(--safe-area-right));
  bottom: calc(10px + var(--safe-area-bottom));
  z-index: 1100;
  display: flex;
  gap: 6px;
  align-items: center;
  padding: 6px 8px;
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid rgba(0, 0, 0, 0.2);
  border-radius: 6px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.25);
  font-size: 12px;
  color: #222;
}

.moreLink {
  background: none;
  border: none;
  padding: 0;
  color: #0d6efd;
  cursor: pointer;
  text-decoration: underline;
}

.moreLink:hover {
  color: #0b5ed7;
}

:global(.leaflet-tile) {
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
}

:global(.leaflet-control-container .leaflet-top.leaflet-left) {
  top: auto;
  left: auto;
  right: calc(10px + var(--safe-area-right));
  bottom: calc(10px + var(--safe-area-bottom) + 44px);
}

:global(.leaflet-control-zoom) {
  margin: 0;
  box-shadow: 0 1px 3px rgba(0,0,0,0.3);
}

:global(.leaflet-control-container .leaflet-bottom.leaflet-left),
:global(.leaflet-control-container .leaflet-bottom.leaflet-right) {
  margin-bottom: calc(10px + var(--safe-area-bottom));
}

:global(.leaflet-control-container .leaflet-bottom.leaflet-left) {
  margin-left: calc(10px + var(--safe-area-left));
}

:global(.leaflet-control-container .leaflet-bottom.leaflet-right) {
  margin-right: calc(10px + var(--safe-area-right));
}

:global(.leaflet-control-attribution) {
  margin: 0;
  margin-bottom: calc(10px + var(--safe-area-bottom));
  margin-right: calc(10px + var(--safe-area-right));
  max-width: calc(100vw - var(--safe-area-left) - var(--safe-area-right) - 20px);
}

:global(.leaflet-control.custom-scale) {
  margin: 0;
  margin-left: calc(10px + var(--safe-area-left));
  margin-bottom: calc(10px + var(--safe-area-bottom));
  max-width: calc(100vw - var(--safe-area-left) - var(--safe-area-right) - 20px);
}
